# ะกะตะผะตะนะฝะฐั ะฟะฐัะตะบะฐ


## ๐ ะขะตัะฝะพะปะพะณะธะธ

- **Python 3.13+** - ะพัะฝะพะฒะฝะพะน ัะทัะบ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั
- **[FastAPI](https://fastapi.tiangolo.com/)** - ัะพะฒัะตะผะตะฝะฝัะน ะฒะตะฑ-ััะตะนะผะฒะพัะบ ะดะปั ัะพะทะดะฐะฝะธั API
- **[Aiogram](https://docs.aiogram.dev/)** - ััะตะนะผะฒะพัะบ ะดะปั ัะพะทะดะฐะฝะธั Telegram ะฑะพัะพะฒ
- **[Dishka](https://github.com/just-work/dishka)** - ะบะพะฝัะตะนะฝะตั ะฒะฝะตะดัะตะฝะธั ะทะฐะฒะธัะธะผะพััะตะน
- **[Pydantic](https://docs.pydantic.dev/)** - ะฒะฐะปะธะดะฐัะธั ะดะฐะฝะฝัั ะธ ะฝะฐัััะพะนะบะธ
- **[Prometheus](https://prometheus.io/)** - ะผะพะฝะธัะพัะธะฝะณ ะผะตััะธะบ
- **[Uvicorn](https://www.uvicorn.org/)** - ASGI-ัะตัะฒะตั
- **[UV](https://github.com/astral-sh/uv)** - ัะพะฒัะตะผะตะฝะฝัะน ะธ ะฑัััััะน ะผะตะฝะตะดะถะตั ะฟะฐะบะตัะพะฒ Python

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
family_apiary_backend/
โโโ src/
โ   โโโ family_apiary/
โ   โ   โโโ module_1/                    # ะะพะดัะปั
โ   โ   โ   โโโ domain/                  # ะะพะผะตะฝะฝัะน ัะปะพะน
โ   โ   โ   โ   โโโ entities/            # ะะธะทะฝะตั-ัััะฝะพััะธ
โ   โ   โ   โ   โโโ value_objects/       # ะะฑัะตะบัั-ะทะฝะฐัะตะฝะธั
โ   โ   โ   โ   โโโ repositories/        # ะะตะฟะพะทะธัะพัะธะธ ะดะปั ัะฐะฑะพัั ั ะดะพะผะตะฝะฝัะผะธ ัััะฝะพัััะผะธ
โ   โ   โ   โ   โโโ __init__.py
โ   โ   โ   โโโ application/             # ะัะธะบะปะฐะดะฝะพะน ัะปะพะน
โ   โ   โ   โ   โโโ services/            # ะกะตัะฒะธัั ะฟัะธะบะปะฐะดะฝะพะณะพ ััะพะฒะฝั
โ   โ   โ   โ   โโโ interfaces/          # ะะฝัะตััะตะนัั ะดะปั ะฒะฝะตัะฝะธั ัะธััะตะผ
โ   โ   โ   โ   โโโ dtos/                # Data Transfer Objects
โ   โ   โ   โ   โโโ use_cases/           # ะกัะตะฝะฐัะธะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธั
โ   โ   โ   โ   โโโ __init__.py
โ   โ   โ   โโโ infrastructure/          # ะะฝััะฐััััะบัััะฝัะน ัะปะพะน
โ   โ   โ       โโโ db/                  # ะะฐะฑะพัะฐ ั ะะ ะธ ัะตะฐะปะธะทะฐัะธะธ ัะตะฟะพะทะธัะพัะธะตะฒ
โ   โ   โ       โโโ api_controllers/     # API ะบะพะฝััะพะปะปะตัั
โ   โ   โ       โโโ ...
โ   โ   โ       โโโ __init__.py
โ   โ   โโโ module_2/
โ   โ   โ   โโโ (...)             
โ   โ   โโโ framework/                   # ะะฑัะธะน ััะตะนะผะฒะพัะบ
โ   โ   โ   โโโ containers/              # ะะฐัััะพะนะบะฐ DI ะบะพะฝัะตะนะฝะตัะฐ
โ   โ   โ   โโโ api/                     # ะะฑัะธะต ะบะพะผะฟะพะฝะตะฝัั API
โ   โ   โ   โโโ log/                     # ะะฐัััะพะนะบะฐ ะปะพะณะธัะพะฒะฐะฝะธั
โ   โ   โ   โโโ __init__.py
โ   โ   โโโ run/                         # ะขะพัะบะฐ ะฒัะพะดะฐ
โ   โ       โโโ api.py                   # ะะฐะฟััะบ API
โ   โ       โโโ ...
โ   โ       โโโ __init__.py
โ   โโโ commons/                         # ะะฑัะธะต ััะธะปะธัั
```

## ๐ ะััะธัะตะบัััะฐ

ะัะพะตะบั ะฟะพัััะพะตะฝ ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ ัะปะตะดัััะธั ะฐััะธัะตะบัััะฝัั ะฟัะธะฝัะธะฟะพะฒ:

- **ะงะธััะฐั ะฐััะธัะตะบัััะฐ** - ัะฐะทะดะตะปะตะฝะธะต ะฝะฐ ัะปะพะธ (ะดะพะผะตะฝะฝัะน, ะฟัะธะบะปะฐะดะฝะพะน, ะธะฝััะฐััััะบัััะฝัะน)
- **Dependency Injection** - ะธัะฟะพะปัะทะพะฒะฐะฝะธะต Dishka ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะทะฐะฒะธัะธะผะพัััะผะธ
- **Domain-Driven Design** - ัะพะบัั ะฝะฐ ะฑะธะทะฝะตั-ะดะพะผะตะฝะต ะธ ะตะณะพ ะผะพะดะตะปะธัะพะฒะฐะฝะธะธ
- **REST API** - RESTful ะฐััะธัะตะบัััะฐ ะดะปั ะฒะตะฑ-ะธะฝัะตััะตะนัะฐ
- **Telegram Bot** - ะธะฝัะตััะตะนั ะดะปั ะฒะทะฐะธะผะพะดะตะนััะฒะธั ัะตัะตะท Telegram

## ๐ฏ ะัะฝะพะฒะฝัะต ััะฝะบัะธะธ

- ะัะฟัะฐะฒะบะฐ ัะฒะตะดะพะผะปะตะฝะธะน ัะตัะตะท Telegram ะฑะพัะฐ ะพ ะฟะพัััะฟะปะตะฝะธะธ ะฝะพะฒัั ะทะฐัะฒะพะบ ะฝะฐ ะฟะพะบัะฟะบั ะฟัะพะดัะบัะธะธ

## ๐ ะะฐะฟััะบ ะฟัะพะตะบัะฐ

1. ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ ั ะฟะพะผะพััั uv:
```bash
uv pip install .
```

2. ะะฐัััะพะนัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั (ัะพะทะดะฐะนัะต ัะฐะนะป `.env`):
```
# ะัะธะผะตั ะบะพะฝัะธะณััะฐัะธะธ
PRODUCTS_TG_CHAT_BOT_TOKEN=your_bot_token
PRODUCTS_TG_CHAT_BOT_PRODUCT_PURCHASE_REQUEST_NOTIFICATION_CHAT_ID=123456
```

3. ะะฐะฟัััะธัะต ัะตัะฒะตั:
```bash
uvicorn src.family_apiary.main:app --reload
```

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

ะะปั ะทะฐะฟััะบะฐ ัะตััะพะฒ:
```bash
pytest
```

## ๐ ะะพะฝะธัะพัะธะฝะณ

ะะตััะธะบะธ ะดะพัััะฟะฝั ะฟะพ ะฐะดัะตัั `/metrics` (Prometheus)

## ๐ ะะธะฝัะตัั

ะ ะฟัะพะตะบัะต ะธัะฟะพะปัะทัะตััั [Ruff](https://github.com/astral-sh/ruff)

### ะะฐัััะพะนะบะฐ ะปะธะฝัะตัะฐ

ะะพะฝัะธะณััะฐัะธั ะปะธะฝัะตัะฐ ะฝะฐัะพะดะธััั ะฒ ัะฐะนะปะต `pyproject.toml` ะฒ ัะตะบัะธะธ `[tool.ruff]`.

### ะะฐะฟััะบ ะปะธะฝัะตัะฐ

ะะปั ะทะฐะฟััะบะฐ ะปะธะฝัะตัะฐ:
```bash
ruff check .
```

ะะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ะธัะฟัะฐะฒะปะตะฝะธั ะฟัะพะฑะปะตะผ:
```bash
ruff check --fix .
```

## ๐ Pre-commit

ะ ะฟัะพะตะบัะต ะฝะฐัััะพะตะฝ pre-commit ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะน ะฟัะพะฒะตัะบะธ ะบะพะดะฐ ะฟะตัะตะด ะบะพะผะผะธัะพะผ. ะะฐัััะพะนะบะธ pre-commit ะฝะฐัะพะดัััั ะฒ ัะฐะนะปะต `.pre-commit-config.yaml`.

### ะฃััะฐะฝะพะฒะบะฐ pre-commit

1. ะฃััะฐะฝะพะฒะธัะต pre-commit:
```bash
pip install pre-commit
```

2. ะฃััะฐะฝะพะฒะธัะต git hooks:
```bash
pre-commit install
```

ะะพัะปะต ััะพะณะพ pre-commit ะฑัะดะตั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะทะฐะฟััะบะฐัััั ะฟะตัะตะด ะบะฐะถะดัะผ ะบะพะผะผะธัะพะผ.

## ๐ ะะธัะตะฝะทะธั

